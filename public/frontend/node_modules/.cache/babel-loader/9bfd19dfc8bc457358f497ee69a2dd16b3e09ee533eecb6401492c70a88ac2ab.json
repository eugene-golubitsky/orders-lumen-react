{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.extendArray = extendArray;\nexports.combineHandlers = combineHandlers;\nexports.getPropertiesByEnding = getPropertiesByEnding;\nexports.getObjectWherePropertyEndsWith = getObjectWherePropertyEndsWith;\nexports.composeReducer = composeReducer;\nexports.composeReducers = composeReducers;\nexports.getKeysForObjects = getKeysForObjects;\nexports.isKeyGriddleHook = isKeyGriddleHook;\nexports.removeHooksFromObject = removeHooksFromObject;\nexports.removeKeyNamePartFromObject = removeKeyNamePartFromObject;\nexports.getBeforeHooksFromObject = getBeforeHooksFromObject;\nexports.getBeforeReduceHooksFromObject = getBeforeReduceHooksFromObject;\nexports.getAfterHooksFromObject = getAfterHooksFromObject;\nexports.getAfterReduceHooksFromObject = getAfterReduceHooksFromObject;\nexports.composeReducerObjects = composeReducerObjects;\nexports.buildGriddleReducerObject = buildGriddleReducerObject;\nexports.callReducerWithBeforeAfterPipe = callReducerWithBeforeAfterPipe;\nexports.buildGriddleReducer = buildGriddleReducer;\nexports.getReducersByWordEnding = getReducersByWordEnding;\nexports.wrapMethodsByWordEnding = wrapMethodsByWordEnding;\nexports.combineAndEnhanceComponents = combineAndEnhanceComponents;\nexports.combineAndEnhanceContainers = combineAndEnhanceContainers;\nexports.combineAndWrapWithContainerComponents = combineAndWrapWithContainerComponents;\nexports.buildGriddleComponents = buildGriddleComponents;\nvar _lodash = require('lodash');\nvar _lodash2 = _interopRequireDefault(_lodash);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n/** Extends an array rather than known list of objects */\n//TODO: Look at using object.assign\nfunction extendArray(objects) {\n  //return an empty object if we don't have anything to combine\n  if (!objects) {\n    return {};\n  }\n\n  //add empty object to the beginning for Object.extend\n  objects.unshift({});\n\n  //Buid the combined object\n  var combinedObject = _lodash2.default.extend.apply(this, objects);\n\n  //TODO: why are we doing this? is it necessary\n  objects.shift();\n\n  //return the combined object\n  return combinedObject;\n}\nfunction combineHandlers(functionArray) {\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    functionArray.forEach(function (func) {\n      return !!func && func.apply(undefined, args);\n    });\n  };\n}\n\n//from MDN\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function (searchString, position) {\n    var subjectString = this.toString();\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n      position = subjectString.length;\n    }\n    position -= searchString.length;\n    var lastIndex = subjectString.indexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n  };\n}\n\n/**\n * Finds properties on an object that end in specified word\n * @param {string} ending - The string that properties should be found ending with\n * @param {Object} object - The object to find keys on\n */\nfunction getPropertiesByEnding(ending, object) {\n  return Object.keys(object).filter(function (name) {\n    return name.endsWith(ending);\n  });\n}\n\n/** Creates a new object containing only properties that end with specified ending\n * @param {string} ending - The string that properties should be found ending with\n * @param {Object} object - The object to find keys on\n */\nfunction getObjectWherePropertyEndsWith(ending, object) {\n  var keys = getPropertiesByEnding(ending, object);\n  return _lodash2.default.pick(object, keys);\n}\n\n/** Creates a new reducer by taking the output of the first reducer as state to the second\n * @param {Object} currentReducer - reducerMethod (state, action) to that we want to run as the state parameter for second reducer\n * @param {Object} previousReducer - reducerMethod (state, action) to run second\n */\nfunction composeReducer(nextReducer, previousReducer) {\n  // compose the reducers when both parameters are functions\n  if (typeof nextReducer === 'function' && typeof previousReducer === 'function') {\n    return function (state, action) {\n      return previousReducer(nextReducer(state, action), action);\n    };\n  }\n\n  // return the nextReducer\n  return nextReducer;\n}\n\n/** Creates a composed reducer method from an array of reducer methods\n * @param {Object <array>} reducers - An array of reducer methods to compose\n */\nfunction composeReducers(reducers) {\n  // flip the array (since we want to apply from left-to-right and compose each reducer\n  return reducers.reverse().reduce(function (previous, next) {\n    return composeReducer(next, previous);\n  }, {});\n}\n\n/** Obtains all the unique keys between an array of objects\n * @param {Object <array>} objects - An array of objects\n */\nfunction getKeysForObjects(objects) {\n  return _lodash2.default.uniq(_lodash2.default.flattenDeep(objects.map(function (o) {\n    return Object.keys(o);\n  })));\n}\n\n/** Determines if a given key is a Griddle hook reducer\n * @param {string} key - the key to check if it refers to a Griddle hook\n */\nfunction isKeyGriddleHook(key) {\n  return key === 'BEFORE_REDUCE' || key === 'AFTER_REDUCE' || key.endsWith('AFTER') || key.endsWith('BEFORE');\n}\n\n/** Removes Griddle hooks from a reducer object\n * @param {Object} reducerObject - The reducer object to remove hooks from\n */\nfunction removeHooksFromObject(reducerObject) {\n  return _lodash2.default.pickBy(reducerObject, function (value, key) {\n    if (isKeyGriddleHook(key)) {\n      return false;\n    }\n    return true;\n  });\n}\n\n/** Removes a given string from any key on the object that contains that string\n * @param {Object} reducer object - the reducer object to update keys on\n * @param {string} keyString - the string to remove from all keys\n*/\nfunction removeKeyNamePartFromObject(reducerObject, keyString) {\n  return Object.keys(reducerObject).reduce(function (previous, current) {\n    previous[current.replace(keyString, '')] = reducerObject[current];\n    return previous;\n  }, {});\n}\n\n/** Gets an object that consists of only the _BEFORE hooks. _BEFORE will be removed from the key.\n * @param {Object} reducerObject - the reducer to get the _BEFORE hooks from\n */\nfunction getBeforeHooksFromObject(reducerObject) {\n  return removeKeyNamePartFromObject(_lodash2.default.pickBy(reducerObject, function (value, key) {\n    return key.endsWith('BEFORE');\n  }), '_BEFORE');\n}\n\n/** Gets an object that consists of only the BEFORE_REDUCE hooks.\n * @param {Object} reducerObject - the reducer to get the BEFORE_REDUCE hooks from\n */\nfunction getBeforeReduceHooksFromObject(reducerObject) {\n  return _lodash2.default.pickBy(reducerObject, function (value, key) {\n    return key === 'BEFORE_REDUCE';\n  });\n}\n\n/** Gets an object that conists of only the _AFTER hooks. _AFTER will be removed from the key\n * @param {Object} reducerObject - the reducer to get the _AFTER hooks from\n */\nfunction getAfterHooksFromObject(reducerObject) {\n  return removeKeyNamePartFromObject(_lodash2.default.pickBy(reducerObject, function (value, key) {\n    return key.endsWith('AFTER');\n  }), '_AFTER');\n}\n\n/** Gets an object that conists of only the AFTER_REDUCE hooks.\n * @param {Object} reducerObject - the reducer to get the AFTER_REDUCE hooks from\n */\nfunction getAfterReduceHooksFromObject(reducerObject) {\n  return _lodash2.default.pickBy(reducerObject, function (value, key) {\n    return key === 'AFTER_REDUCE';\n  });\n}\n\n/** Combines the given reducer objects left to right\n * @param {Object <array>} reducerObjects - An array containing objects consisting of reducer methods as properties\n */\nfunction composeReducerObjects(reducerObjects) {\n  if (reducerObjects.length < 1) return null;\n  return reducerObjects.reverse().reduce(function (previous, next) {\n    // if we don't have any reducers in previous object continue with next\n    if (previous === null) {\n      return next;\n    }\n\n    //mutate the previous object by composing the reducer methods\n    for (var key in next) {\n      previous[key] = composeReducer(next[key], previous[key]);\n    }\n    return previous;\n  }, null);\n}\n\n/** Builds a new reducer that composes hooks and extends standard reducers between reducerObjects\n * @param {Object <array>} reducers - An array of reducerObjects\n * TODO: This method should be broken down a bit -- it's doing too much currently\n */\nfunction buildGriddleReducerObject(reducerObjects) {\n  var reducerMethodsWithoutHooks = [];\n  var beforeHooks = [];\n  var afterHooks = [];\n  var beforeReduceAll = [];\n  var afterReduceAll = [];\n  if (reducerObjects.length > 0) {\n    // remove the hooks and extend the object\n    for (var key in reducerObjects) {\n      var reducer = reducerObjects[key];\n      reducerMethodsWithoutHooks.push(removeHooksFromObject(reducer));\n      beforeHooks.push(getBeforeHooksFromObject(reducer));\n      afterHooks.push(getAfterHooksFromObject(reducer));\n      beforeReduceAll.push(getBeforeReduceHooksFromObject(reducer));\n      afterReduceAll.push(getAfterReduceHooksFromObject(reducer));\n    }\n  }\n  var composedBeforeHooks = composeReducerObjects(beforeHooks);\n  var composedAfterHooks = composeReducerObjects(afterHooks);\n  var composedBeforeReduceAll = composeReducerObjects(beforeReduceAll);\n  var composedAfterReduceAll = composeReducerObjects(afterReduceAll);\n\n  // combine the reducers without hooks\n  var combinedReducer = extendArray(reducerMethodsWithoutHooks);\n  var composed = composeReducerObjects([composedBeforeReduceAll, composedBeforeHooks, combinedReducer, composedAfterHooks, composedAfterReduceAll]);\n  return composed;\n}\n\n/** Builds a composed method containing the before / after reduce calls\n * @param {Object} reduceObject - The reducer that contains the composed reducer methods\n * @param {Object} state - The store state\n * @param {object} action - The action payload information\n*/\nfunction callReducerWithBeforeAfterPipe(reducerObject, state, action) {\n  var noop = function noop(passThroughState) {\n    return passThroughState;\n  };\n  var before = reducerObject.hasOwnProperty('BEFORE_REDUCE') ? reducerObject.BEFORE_REDUCE : noop;\n  var after = reducerObject.hasOwnProperty('AFTER_REDUCE') ? reducerObject.AFTER_REDUCE : noop;\n  var call = action.type && reducerObject[action.type] && reducerObject[action.type] || reducerObject.GRIDDLE_INITIALIZED;\n  var partialCall = function (partialAction) {\n    return function (partialState) {\n      return call(partialState, partialAction);\n    };\n  }(action);\n  var method = _lodash2.default.flow([before, partialCall, after]);\n  return method(state);\n}\n\n/** Builds a griddleReducer function from a series of reducerObjects\n * @param {Object <array>} reducers - An array of reducerObjects\n*/\nfunction buildGriddleReducer(reducerObjects) {\n  var reducerObject = buildGriddleReducerObject(reducerObjects);\n  return function (state, action) {\n    return callReducerWithBeforeAfterPipe(reducerObject, state, action);\n  };\n}\n\n/** Gets all reducers by a specific wordEnding\n * @param {array <Object>} reducers - An array of reducer objects\n * @param {string} ending - the wordEnding for the reducer name\n */\nfunction getReducersByWordEnding(reducers, ending) {\n  return reducers.reduce(function (previous, current) {\n    var keys = Object.keys(current).filter(function (name) {\n      return name.endsWith(ending);\n    });\n    var reducer = pick(current, keys);\n\n    //TODO: clean this up it's a bit hacky\n    for (var key in current) {\n      if (!key.endsWith(ending)) {\n        continue;\n      }\n      var keyWithoutEnding = key.replace('_' + ending, \"\");\n      //make a new method that pipes output of previous into state of current\n      //this is to allow chaining these\n      var hasPrevious = previous.hasOwnProperty(keyWithoutEnding) && typeof previous[keyWithoutEnding] === 'function';\n      var previousReducer = hasPrevious ? previous[keyWithoutEnding] : undefined;\n      var currentReducer = reducer[key];\n      reducer[keyWithoutEnding] = wrapReducer(currentReducer, previousReducer);\n    }\n\n    //override anything in previous (since this now calls previous to make sure we have helpers from both);\n    return extend(previous, reducer);\n  }, {});\n}\n\n/** Wraps all methods in another method by name and word ending\n  * @param {array<Object>} componentObjectArray - An array of component objects\n  * @param {string} ending - the word ending to determine what is a enhancer method\n  * @param {string} keyReplaceString - the word ending to apply when replacing the 'ending' parameter. Defaults to ''\n*/\nfunction wrapMethodsByWordEnding(componentArray, wordEnding) {\n  var keyReplaceString = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  return componentArray.reduce(function (previous, current) {\n    var newObject = {};\n    for (var key in current) {\n      var keyWithoutEnhancer = key.replace(wordEnding, keyReplaceString);\n      if (key.endsWith(wordEnding) && (previous.hasOwnProperty(keyWithoutEnhancer) || current.hasOwnProperty(keyWithoutEnhancer))) {\n        // Determine if we are working with an HoC that wraps another HoC\n        newObject[keyWithoutEnhancer] = keyWithoutEnhancer.endsWith('Container') || keyWithoutEnhancer.endsWith('Enhancer') ?\n        // If we are enhancing a container or enhancer flow this stuff since it's likely an HoC\n        _lodash2.default.flowRight(current[key], current[keyWithoutEnhancer] || previous[keyWithoutEnhancer]) :\n        // Wrap the current component in the Enhancer or container\n        current[key](current[keyWithoutEnhancer] || previous[keyWithoutEnhancer]);\n      }\n    }\n    return _lodash2.default.pickBy(Object.assign(previous, current, newObject), function (v, k) {\n      return !k.endsWith(wordEnding);\n    });\n  }, {});\n}\n\n/** Gets a new components object with component per component name\n * @param {array<Object>} componentObjectArray - An array of component objects\n*/\nfunction combineAndEnhanceComponents(componentArray) {\n  return wrapMethodsByWordEnding(componentArray, 'Enhancer');\n}\nfunction combineAndEnhanceContainers(componentArray) {\n  return wrapMethodsByWordEnding(componentArray, 'ContainerEnhancer', 'Container');\n}\n\n/** Gets a new component object with containers wrapping standard components\n  (this is the same as enhance but just applying different naming conventions)\n * @param {array<Object>} componentObjectArray - An array of component objects\n*/\nfunction combineAndWrapWithContainerComponents(componentArray) {\n  return wrapMethodsByWordEnding(componentArray, 'Container');\n}\n\n/** Wraps components in their containers and enhancers\n * @param {array<Object>} componentObjectArray - An array of component objects\n*/\nfunction buildGriddleComponents(componentArray) {\n  //enhance the containers\n  var withEnhancedContainers = combineAndEnhanceContainers(componentArray);\n\n  //enhance the components\n  var withEnhancedComponents = combineAndEnhanceComponents([withEnhancedContainers]);\n\n  //wrap the components with the container\n  var withWrappedComponents = combineAndWrapWithContainerComponents([withEnhancedComponents]);\n  return withWrappedComponents;\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","extendArray","combineHandlers","getPropertiesByEnding","getObjectWherePropertyEndsWith","composeReducer","composeReducers","getKeysForObjects","isKeyGriddleHook","removeHooksFromObject","removeKeyNamePartFromObject","getBeforeHooksFromObject","getBeforeReduceHooksFromObject","getAfterHooksFromObject","getAfterReduceHooksFromObject","composeReducerObjects","buildGriddleReducerObject","callReducerWithBeforeAfterPipe","buildGriddleReducer","getReducersByWordEnding","wrapMethodsByWordEnding","combineAndEnhanceComponents","combineAndEnhanceContainers","combineAndWrapWithContainerComponents","buildGriddleComponents","_lodash","require","_lodash2","_interopRequireDefault","obj","__esModule","default","objects","unshift","combinedObject","extend","apply","shift","functionArray","_len","arguments","length","args","Array","_key","forEach","func","undefined","String","prototype","endsWith","searchString","position","subjectString","toString","isFinite","Math","floor","lastIndex","indexOf","ending","object","keys","filter","name","pick","nextReducer","previousReducer","state","action","reducers","reverse","reduce","previous","next","uniq","flattenDeep","map","o","key","reducerObject","pickBy","keyString","current","replace","reducerObjects","reducerMethodsWithoutHooks","beforeHooks","afterHooks","beforeReduceAll","afterReduceAll","reducer","push","composedBeforeHooks","composedAfterHooks","composedBeforeReduceAll","composedAfterReduceAll","combinedReducer","composed","noop","passThroughState","before","hasOwnProperty","BEFORE_REDUCE","after","AFTER_REDUCE","call","type","GRIDDLE_INITIALIZED","partialCall","partialAction","partialState","method","flow","keyWithoutEnding","hasPrevious","currentReducer","wrapReducer","componentArray","wordEnding","keyReplaceString","newObject","keyWithoutEnhancer","flowRight","assign","v","k","withEnhancedContainers","withEnhancedComponents","withWrappedComponents"],"sources":["/Users/eugo/commentsold/lumen/public/front/node_modules/griddle-react/dist/module/utils/compositionUtils.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.extendArray = extendArray;\nexports.combineHandlers = combineHandlers;\nexports.getPropertiesByEnding = getPropertiesByEnding;\nexports.getObjectWherePropertyEndsWith = getObjectWherePropertyEndsWith;\nexports.composeReducer = composeReducer;\nexports.composeReducers = composeReducers;\nexports.getKeysForObjects = getKeysForObjects;\nexports.isKeyGriddleHook = isKeyGriddleHook;\nexports.removeHooksFromObject = removeHooksFromObject;\nexports.removeKeyNamePartFromObject = removeKeyNamePartFromObject;\nexports.getBeforeHooksFromObject = getBeforeHooksFromObject;\nexports.getBeforeReduceHooksFromObject = getBeforeReduceHooksFromObject;\nexports.getAfterHooksFromObject = getAfterHooksFromObject;\nexports.getAfterReduceHooksFromObject = getAfterReduceHooksFromObject;\nexports.composeReducerObjects = composeReducerObjects;\nexports.buildGriddleReducerObject = buildGriddleReducerObject;\nexports.callReducerWithBeforeAfterPipe = callReducerWithBeforeAfterPipe;\nexports.buildGriddleReducer = buildGriddleReducer;\nexports.getReducersByWordEnding = getReducersByWordEnding;\nexports.wrapMethodsByWordEnding = wrapMethodsByWordEnding;\nexports.combineAndEnhanceComponents = combineAndEnhanceComponents;\nexports.combineAndEnhanceContainers = combineAndEnhanceContainers;\nexports.combineAndWrapWithContainerComponents = combineAndWrapWithContainerComponents;\nexports.buildGriddleComponents = buildGriddleComponents;\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** Extends an array rather than known list of objects */\n//TODO: Look at using object.assign\nfunction extendArray(objects) {\n  //return an empty object if we don't have anything to combine\n  if (!objects) {\n    return {};\n  }\n\n  //add empty object to the beginning for Object.extend\n  objects.unshift({});\n\n  //Buid the combined object\n  var combinedObject = _lodash2.default.extend.apply(this, objects);\n\n  //TODO: why are we doing this? is it necessary\n  objects.shift();\n\n  //return the combined object\n  return combinedObject;\n}\n\nfunction combineHandlers(functionArray) {\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    functionArray.forEach(function (func) {\n      return !!func && func.apply(undefined, args);\n    });\n  };\n}\n\n//from MDN\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function (searchString, position) {\n    var subjectString = this.toString();\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n      position = subjectString.length;\n    }\n    position -= searchString.length;\n    var lastIndex = subjectString.indexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n  };\n}\n\n/**\n * Finds properties on an object that end in specified word\n * @param {string} ending - The string that properties should be found ending with\n * @param {Object} object - The object to find keys on\n */\nfunction getPropertiesByEnding(ending, object) {\n  return Object.keys(object).filter(function (name) {\n    return name.endsWith(ending);\n  });\n}\n\n/** Creates a new object containing only properties that end with specified ending\n * @param {string} ending - The string that properties should be found ending with\n * @param {Object} object - The object to find keys on\n */\nfunction getObjectWherePropertyEndsWith(ending, object) {\n  var keys = getPropertiesByEnding(ending, object);\n\n  return _lodash2.default.pick(object, keys);\n}\n\n/** Creates a new reducer by taking the output of the first reducer as state to the second\n * @param {Object} currentReducer - reducerMethod (state, action) to that we want to run as the state parameter for second reducer\n * @param {Object} previousReducer - reducerMethod (state, action) to run second\n */\nfunction composeReducer(nextReducer, previousReducer) {\n  // compose the reducers when both parameters are functions\n  if (typeof nextReducer === 'function' && typeof previousReducer === 'function') {\n    return function (state, action) {\n      return previousReducer(nextReducer(state, action), action);\n    };\n  }\n\n  // return the nextReducer\n  return nextReducer;\n}\n\n/** Creates a composed reducer method from an array of reducer methods\n * @param {Object <array>} reducers - An array of reducer methods to compose\n */\nfunction composeReducers(reducers) {\n  // flip the array (since we want to apply from left-to-right and compose each reducer\n  return reducers.reverse().reduce(function (previous, next) {\n    return composeReducer(next, previous);\n  }, {});\n}\n\n/** Obtains all the unique keys between an array of objects\n * @param {Object <array>} objects - An array of objects\n */\nfunction getKeysForObjects(objects) {\n  return _lodash2.default.uniq(_lodash2.default.flattenDeep(objects.map(function (o) {\n    return Object.keys(o);\n  })));\n}\n\n/** Determines if a given key is a Griddle hook reducer\n * @param {string} key - the key to check if it refers to a Griddle hook\n */\nfunction isKeyGriddleHook(key) {\n  return key === 'BEFORE_REDUCE' || key === 'AFTER_REDUCE' || key.endsWith('AFTER') || key.endsWith('BEFORE');\n}\n\n/** Removes Griddle hooks from a reducer object\n * @param {Object} reducerObject - The reducer object to remove hooks from\n */\nfunction removeHooksFromObject(reducerObject) {\n  return _lodash2.default.pickBy(reducerObject, function (value, key) {\n    if (isKeyGriddleHook(key)) {\n      return false;\n    }\n\n    return true;\n  });\n}\n\n/** Removes a given string from any key on the object that contains that string\n * @param {Object} reducer object - the reducer object to update keys on\n * @param {string} keyString - the string to remove from all keys\n*/\nfunction removeKeyNamePartFromObject(reducerObject, keyString) {\n  return Object.keys(reducerObject).reduce(function (previous, current) {\n    previous[current.replace(keyString, '')] = reducerObject[current];\n    return previous;\n  }, {});\n}\n\n/** Gets an object that consists of only the _BEFORE hooks. _BEFORE will be removed from the key.\n * @param {Object} reducerObject - the reducer to get the _BEFORE hooks from\n */\nfunction getBeforeHooksFromObject(reducerObject) {\n  return removeKeyNamePartFromObject(_lodash2.default.pickBy(reducerObject, function (value, key) {\n    return key.endsWith('BEFORE');\n  }), '_BEFORE');\n}\n\n/** Gets an object that consists of only the BEFORE_REDUCE hooks.\n * @param {Object} reducerObject - the reducer to get the BEFORE_REDUCE hooks from\n */\nfunction getBeforeReduceHooksFromObject(reducerObject) {\n  return _lodash2.default.pickBy(reducerObject, function (value, key) {\n    return key === 'BEFORE_REDUCE';\n  });\n}\n\n/** Gets an object that conists of only the _AFTER hooks. _AFTER will be removed from the key\n * @param {Object} reducerObject - the reducer to get the _AFTER hooks from\n */\nfunction getAfterHooksFromObject(reducerObject) {\n  return removeKeyNamePartFromObject(_lodash2.default.pickBy(reducerObject, function (value, key) {\n    return key.endsWith('AFTER');\n  }), '_AFTER');\n}\n\n/** Gets an object that conists of only the AFTER_REDUCE hooks.\n * @param {Object} reducerObject - the reducer to get the AFTER_REDUCE hooks from\n */\nfunction getAfterReduceHooksFromObject(reducerObject) {\n  return _lodash2.default.pickBy(reducerObject, function (value, key) {\n    return key === 'AFTER_REDUCE';\n  });\n}\n\n/** Combines the given reducer objects left to right\n * @param {Object <array>} reducerObjects - An array containing objects consisting of reducer methods as properties\n */\nfunction composeReducerObjects(reducerObjects) {\n  if (reducerObjects.length < 1) return null;\n\n  return reducerObjects.reverse().reduce(function (previous, next) {\n    // if we don't have any reducers in previous object continue with next\n    if (previous === null) {\n      return next;\n    }\n\n    //mutate the previous object by composing the reducer methods\n    for (var key in next) {\n      previous[key] = composeReducer(next[key], previous[key]);\n    }\n\n    return previous;\n  }, null);\n}\n\n/** Builds a new reducer that composes hooks and extends standard reducers between reducerObjects\n * @param {Object <array>} reducers - An array of reducerObjects\n * TODO: This method should be broken down a bit -- it's doing too much currently\n */\nfunction buildGriddleReducerObject(reducerObjects) {\n  var reducerMethodsWithoutHooks = [];\n  var beforeHooks = [];\n  var afterHooks = [];\n\n  var beforeReduceAll = [];\n  var afterReduceAll = [];\n\n  if (reducerObjects.length > 0) {\n    // remove the hooks and extend the object\n    for (var key in reducerObjects) {\n      var reducer = reducerObjects[key];\n      reducerMethodsWithoutHooks.push(removeHooksFromObject(reducer));\n      beforeHooks.push(getBeforeHooksFromObject(reducer));\n      afterHooks.push(getAfterHooksFromObject(reducer));\n      beforeReduceAll.push(getBeforeReduceHooksFromObject(reducer));\n      afterReduceAll.push(getAfterReduceHooksFromObject(reducer));\n    }\n  }\n\n  var composedBeforeHooks = composeReducerObjects(beforeHooks);\n  var composedAfterHooks = composeReducerObjects(afterHooks);\n\n  var composedBeforeReduceAll = composeReducerObjects(beforeReduceAll);\n  var composedAfterReduceAll = composeReducerObjects(afterReduceAll);\n\n  // combine the reducers without hooks\n  var combinedReducer = extendArray(reducerMethodsWithoutHooks);\n\n  var composed = composeReducerObjects([composedBeforeReduceAll, composedBeforeHooks, combinedReducer, composedAfterHooks, composedAfterReduceAll]);\n\n  return composed;\n}\n\n/** Builds a composed method containing the before / after reduce calls\n * @param {Object} reduceObject - The reducer that contains the composed reducer methods\n * @param {Object} state - The store state\n * @param {object} action - The action payload information\n*/\nfunction callReducerWithBeforeAfterPipe(reducerObject, state, action) {\n  var noop = function noop(passThroughState) {\n    return passThroughState;\n  };\n  var before = reducerObject.hasOwnProperty('BEFORE_REDUCE') ? reducerObject.BEFORE_REDUCE : noop;\n  var after = reducerObject.hasOwnProperty('AFTER_REDUCE') ? reducerObject.AFTER_REDUCE : noop;\n\n  var call = action.type && reducerObject[action.type] && reducerObject[action.type] || reducerObject.GRIDDLE_INITIALIZED;\n\n  var partialCall = function (partialAction) {\n    return function (partialState) {\n      return call(partialState, partialAction);\n    };\n  }(action);\n\n  var method = _lodash2.default.flow([before, partialCall, after]);\n\n  return method(state);\n}\n\n/** Builds a griddleReducer function from a series of reducerObjects\n * @param {Object <array>} reducers - An array of reducerObjects\n*/\nfunction buildGriddleReducer(reducerObjects) {\n  var reducerObject = buildGriddleReducerObject(reducerObjects);\n  return function (state, action) {\n    return callReducerWithBeforeAfterPipe(reducerObject, state, action);\n  };\n}\n\n/** Gets all reducers by a specific wordEnding\n * @param {array <Object>} reducers - An array of reducer objects\n * @param {string} ending - the wordEnding for the reducer name\n */\nfunction getReducersByWordEnding(reducers, ending) {\n  return reducers.reduce(function (previous, current) {\n    var keys = Object.keys(current).filter(function (name) {\n      return name.endsWith(ending);\n    });\n\n    var reducer = pick(current, keys);\n\n    //TODO: clean this up it's a bit hacky\n    for (var key in current) {\n      if (!key.endsWith(ending)) {\n        continue;\n      }\n\n      var keyWithoutEnding = key.replace('_' + ending, \"\");\n      //make a new method that pipes output of previous into state of current\n      //this is to allow chaining these\n      var hasPrevious = previous.hasOwnProperty(keyWithoutEnding) && typeof previous[keyWithoutEnding] === 'function';\n      var previousReducer = hasPrevious ? previous[keyWithoutEnding] : undefined;\n\n      var currentReducer = reducer[key];\n\n      reducer[keyWithoutEnding] = wrapReducer(currentReducer, previousReducer);\n    }\n\n    //override anything in previous (since this now calls previous to make sure we have helpers from both);\n    return extend(previous, reducer);\n  }, {});\n}\n\n/** Wraps all methods in another method by name and word ending\n  * @param {array<Object>} componentObjectArray - An array of component objects\n  * @param {string} ending - the word ending to determine what is a enhancer method\n  * @param {string} keyReplaceString - the word ending to apply when replacing the 'ending' parameter. Defaults to ''\n*/\nfunction wrapMethodsByWordEnding(componentArray, wordEnding) {\n  var keyReplaceString = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n  return componentArray.reduce(function (previous, current) {\n    var newObject = {};\n\n    for (var key in current) {\n      var keyWithoutEnhancer = key.replace(wordEnding, keyReplaceString);\n\n      if (key.endsWith(wordEnding) && (previous.hasOwnProperty(keyWithoutEnhancer) || current.hasOwnProperty(keyWithoutEnhancer))) {\n        // Determine if we are working with an HoC that wraps another HoC\n        newObject[keyWithoutEnhancer] = keyWithoutEnhancer.endsWith('Container') || keyWithoutEnhancer.endsWith('Enhancer') ?\n        // If we are enhancing a container or enhancer flow this stuff since it's likely an HoC\n        _lodash2.default.flowRight(current[key], current[keyWithoutEnhancer] || previous[keyWithoutEnhancer]) :\n        // Wrap the current component in the Enhancer or container\n        current[key](current[keyWithoutEnhancer] || previous[keyWithoutEnhancer]);\n      }\n    }\n\n    return _lodash2.default.pickBy(Object.assign(previous, current, newObject), function (v, k) {\n      return !k.endsWith(wordEnding);\n    });\n  }, {});\n}\n\n/** Gets a new components object with component per component name\n * @param {array<Object>} componentObjectArray - An array of component objects\n*/\nfunction combineAndEnhanceComponents(componentArray) {\n  return wrapMethodsByWordEnding(componentArray, 'Enhancer');\n}\n\nfunction combineAndEnhanceContainers(componentArray) {\n  return wrapMethodsByWordEnding(componentArray, 'ContainerEnhancer', 'Container');\n}\n\n/** Gets a new component object with containers wrapping standard components\n  (this is the same as enhance but just applying different naming conventions)\n * @param {array<Object>} componentObjectArray - An array of component objects\n*/\nfunction combineAndWrapWithContainerComponents(componentArray) {\n  return wrapMethodsByWordEnding(componentArray, 'Container');\n}\n\n/** Wraps components in their containers and enhancers\n * @param {array<Object>} componentObjectArray - An array of component objects\n*/\nfunction buildGriddleComponents(componentArray) {\n  //enhance the containers\n  var withEnhancedContainers = combineAndEnhanceContainers(componentArray);\n\n  //enhance the components\n  var withEnhancedComponents = combineAndEnhanceComponents([withEnhancedContainers]);\n\n  //wrap the components with the container\n  var withWrappedComponents = combineAndWrapWithContainerComponents([withEnhancedComponents]);\n\n  return withWrappedComponents;\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}