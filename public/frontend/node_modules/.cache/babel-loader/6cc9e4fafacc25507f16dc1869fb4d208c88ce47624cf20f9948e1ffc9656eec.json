{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _flowRight2 = require('lodash/flowRight');\nvar _flowRight3 = _interopRequireDefault(_flowRight2);\nvar _flow2 = require('lodash/flow');\nvar _flow3 = _interopRequireDefault(_flow2);\nvar _pickBy2 = require('lodash/pickBy');\nvar _pickBy3 = _interopRequireDefault(_pickBy2);\nvar _flattenDeep2 = require('lodash/flattenDeep');\nvar _flattenDeep3 = _interopRequireDefault(_flattenDeep2);\nvar _uniq2 = require('lodash/uniq');\nvar _uniq3 = _interopRequireDefault(_uniq2);\nvar _pick2 = require('lodash/pick');\nvar _pick3 = _interopRequireDefault(_pick2);\nvar _extend2 = require('lodash/extend');\nvar _extend3 = _interopRequireDefault(_extend2);\nexports.extendArray = extendArray;\nexports.combineHandlers = combineHandlers;\nexports.getPropertiesByEnding = getPropertiesByEnding;\nexports.getObjectWherePropertyEndsWith = getObjectWherePropertyEndsWith;\nexports.composeReducer = composeReducer;\nexports.composeReducers = composeReducers;\nexports.getKeysForObjects = getKeysForObjects;\nexports.isKeyGriddleHook = isKeyGriddleHook;\nexports.removeHooksFromObject = removeHooksFromObject;\nexports.removeKeyNamePartFromObject = removeKeyNamePartFromObject;\nexports.getBeforeHooksFromObject = getBeforeHooksFromObject;\nexports.getBeforeReduceHooksFromObject = getBeforeReduceHooksFromObject;\nexports.getAfterHooksFromObject = getAfterHooksFromObject;\nexports.getAfterReduceHooksFromObject = getAfterReduceHooksFromObject;\nexports.composeReducerObjects = composeReducerObjects;\nexports.callReducerWithBeforeAfterPipe = callReducerWithBeforeAfterPipe;\nexports.buildGriddleReducer = buildGriddleReducer;\nexports.getReducersByWordEnding = getReducersByWordEnding;\nexports.wrapMethodsByWordEnding = wrapMethodsByWordEnding;\nexports.combineAndEnhanceComponents = combineAndEnhanceComponents;\nexports.combineAndEnhanceContainers = combineAndEnhanceContainers;\nexports.combineAndWrapWithContainerComponents = combineAndWrapWithContainerComponents;\nexports.buildGriddleComponents = buildGriddleComponents;\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n/** Extends an array rather than known list of objects */\n//TODO: Look at using object.assign\nfunction extendArray(objects) {\n  //return an empty object if we don't have anything to combine\n  if (!objects) {\n    return {};\n  }\n\n  //add empty object to the beginning for Object.extend\n  objects.unshift({});\n\n  //Buid the combined object\n  var combinedObject = _extend3.default.apply(this, objects);\n\n  //TODO: why are we doing this? is it necessary\n  objects.shift();\n\n  //return the combined object\n  return combinedObject;\n}\nfunction combineHandlers(functionArray) {\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    functionArray.forEach(function (func) {\n      return !!func && func.apply(undefined, args);\n    });\n  };\n}\n\n//from MDN\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function (searchString, position) {\n    var subjectString = this.toString();\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n      position = subjectString.length;\n    }\n    position -= searchString.length;\n    var lastIndex = subjectString.indexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n  };\n}\n\n/**\n * Finds properties on an object that end in specified word\n * @param {string} ending - The string that properties should be found ending with\n * @param {Object} object - The object to find keys on\n */\nfunction getPropertiesByEnding(ending, object) {\n  return Object.keys(object).filter(function (name) {\n    return name.endsWith(ending);\n  });\n}\n\n/** Creates a new object containing only properties that end with specified ending\n * @param {string} ending - The string that properties should be found ending with\n * @param {Object} object - The object to find keys on\n */\nfunction getObjectWherePropertyEndsWith(ending, object) {\n  var keys = getPropertiesByEnding(ending, object);\n  return (0, _pick3.default)(object, keys);\n}\n\n/** Creates a new reducer by taking the output of the first reducer as state to the second\n * @param {Object} currentReducer - reducerMethod (state, action) to that we want to run as the state parameter for second reducer\n * @param {Object} previousReducer - reducerMethod (state, action) to run second\n */\nfunction composeReducer(nextReducer, previousReducer) {\n  // compose the reducers when both parameters are functions\n  if (typeof nextReducer === 'function' && typeof previousReducer === 'function') {\n    return function (state, action) {\n      return previousReducer(nextReducer(state, action), action);\n    };\n  }\n\n  // return the nextReducer\n  return nextReducer;\n}\n\n/** Creates a composed reducer method from an array of reducer methods\n * @param {Object <array>} reducers - An array of reducer methods to compose\n */\nfunction composeReducers(reducers) {\n  // flip the array (since we want to apply from left-to-right and compose each reducer\n  return reducers.reverse().reduce(function (previous, next) {\n    return composeReducer(next, previous);\n  }, {});\n}\n\n/** Obtains all the unique keys between an array of objects\n * @param {Object <array>} objects - An array of objects\n */\nfunction getKeysForObjects(objects) {\n  return (0, _uniq3.default)((0, _flattenDeep3.default)(objects.map(function (o) {\n    return Object.keys(o);\n  })));\n}\n\n/** Determines if a given key is a Griddle hook reducer\n * @param {string} key - the key to check if it refers to a Griddle hook\n */\nfunction isKeyGriddleHook(key) {\n  return key === 'BEFORE_REDUCE' || key === 'AFTER_REDUCE' || key.endsWith('AFTER') || key.endsWith('BEFORE');\n}\n\n/** Removes Griddle hooks from a reducer object\n * @param {Object} reducerObject - The reducer object to remove hooks from\n */\nfunction removeHooksFromObject(reducerObject) {\n  return (0, _pickBy3.default)(reducerObject, function (value, key) {\n    if (isKeyGriddleHook(key)) {\n      return false;\n    }\n    return true;\n  });\n}\n\n/** Removes a given string from any key on the object that contains that string\n * @param {Object} reducer object - the reducer object to update keys on\n * @param {string} keyString - the string to remove from all keys\n*/\nfunction removeKeyNamePartFromObject(reducerObject, keyString) {\n  return Object.keys(reducerObject).reduce(function (previous, current) {\n    previous[current.replace(keyString, '')] = reducerObject[current];\n    return previous;\n  }, {});\n}\n\n/** Gets an object that consists of only the _BEFORE hooks. _BEFORE will be removed from the key.\n * @param {Object} reducerObject - the reducer to get the _BEFORE hooks from\n */\nfunction getBeforeHooksFromObject(reducerObject) {\n  return removeKeyNamePartFromObject((0, _pickBy3.default)(reducerObject, function (value, key) {\n    return key.endsWith('BEFORE');\n  }), '_BEFORE');\n}\n\n/** Gets an object that consists of only the BEFORE_REDUCE hooks.\n * @param {Object} reducerObject - the reducer to get the BEFORE_REDUCE hooks from\n */\nfunction getBeforeReduceHooksFromObject(reducerObject) {\n  return (0, _pickBy3.default)(reducerObject, function (value, key) {\n    return key === 'BEFORE_REDUCE';\n  });\n}\n\n/** Gets an object that conists of only the _AFTER hooks. _AFTER will be removed from the key\n * @param {Object} reducerObject - the reducer to get the _AFTER hooks from\n */\nfunction getAfterHooksFromObject(reducerObject) {\n  return removeKeyNamePartFromObject((0, _pickBy3.default)(reducerObject, function (value, key) {\n    return key.endsWith('AFTER');\n  }), '_AFTER');\n}\n\n/** Gets an object that conists of only the AFTER_REDUCE hooks.\n * @param {Object} reducerObject - the reducer to get the AFTER_REDUCE hooks from\n */\nfunction getAfterReduceHooksFromObject(reducerObject) {\n  return (0, _pickBy3.default)(reducerObject, function (value, key) {\n    return key === 'AFTER_REDUCE';\n  });\n}\n\n/** Combines the given reducer objects left to right\n * @param {Object <array>} reducerObjects - An array containing objects consisting of reducer methods as properties\n */\nfunction composeReducerObjects(reducerObjects) {\n  if (reducerObjects.length < 1) return null;\n  return reducerObjects.reverse().reduce(function (previous, next) {\n    // if we don't have any reducers in previous object continue with next\n    if (previous === null) {\n      return next;\n    }\n\n    //mutate the previous object by composing the reducer methods\n    for (var key in next) {\n      previous[key] = composeReducer(next[key], previous[key]);\n    }\n    return previous;\n  }, null);\n}\n\n/** Builds a new reducer that composes hooks and extends standard reducers between reducerObjects\n * @param {Object <array>} reducers - An array of reducerObjects\n * Note: this used to be exported, but the same properties are available from buildGriddleReducer.\n * TODO: This method should be broken down a bit -- it's doing too much currently\n */\nfunction buildGriddleReducerObject(reducerObjects) {\n  var reducerMethodsWithoutHooks = [];\n  var beforeHooks = [];\n  var afterHooks = [];\n  var beforeReduceAll = [];\n  var afterReduceAll = [];\n  if (reducerObjects.length > 0) {\n    // remove the hooks and extend the object\n    for (var key in reducerObjects) {\n      var reducer = reducerObjects[key];\n      reducerMethodsWithoutHooks.push(removeHooksFromObject(reducer));\n      beforeHooks.push(getBeforeHooksFromObject(reducer));\n      afterHooks.push(getAfterHooksFromObject(reducer));\n      beforeReduceAll.push(getBeforeReduceHooksFromObject(reducer));\n      afterReduceAll.push(getAfterReduceHooksFromObject(reducer));\n    }\n  }\n  var composedBeforeHooks = composeReducerObjects(beforeHooks);\n  var composedAfterHooks = composeReducerObjects(afterHooks);\n  var composedBeforeReduceAll = composeReducerObjects(beforeReduceAll);\n  var composedAfterReduceAll = composeReducerObjects(afterReduceAll);\n\n  // combine the reducers without hooks\n  var combinedReducer = extendArray(reducerMethodsWithoutHooks);\n  var composed = composeReducerObjects([composedBeforeReduceAll, composedBeforeHooks, combinedReducer, composedAfterHooks, composedAfterReduceAll]);\n  return composed;\n}\n\n/** Builds a composed method containing the before / after reduce calls\n * @param {Object} reduceObject - The reducer that contains the composed reducer methods\n * @param {Object} state - The store state\n * @param {object} action - The action payload information\n*/\nfunction callReducerWithBeforeAfterPipe(reducerObject, state, action) {\n  var noop = function noop(passThroughState) {\n    return passThroughState;\n  };\n  var before = reducerObject.hasOwnProperty('BEFORE_REDUCE') ? reducerObject.BEFORE_REDUCE : noop;\n  var after = reducerObject.hasOwnProperty('AFTER_REDUCE') ? reducerObject.AFTER_REDUCE : noop;\n  var call = action.type && reducerObject[action.type] && reducerObject[action.type] || reducerObject.GRIDDLE_INITIALIZED || noop;\n  var partialCall = function (partialAction) {\n    return function (partialState) {\n      return call(partialState, partialAction);\n    };\n  }(action);\n  var method = (0, _flow3.default)([before, partialCall, after]);\n  return method(state);\n}\n\n/** Builds a griddleReducer function from a series of reducerObjects\n * @param {Object <array>} reducers - An array of reducerObjects\n*/\nfunction buildGriddleReducer(reducerObjects) {\n  var reducerObject = buildGriddleReducerObject(reducerObjects);\n  var reducer = function reducer(state, action) {\n    return callReducerWithBeforeAfterPipe(reducerObject, state, action);\n  };\n  Object.assign(reducer, reducerObject);\n  return reducer;\n}\n\n/** Gets all reducers by a specific wordEnding\n * @param {array <Object>} reducers - An array of reducer objects\n * @param {string} ending - the wordEnding for the reducer name\n */\nfunction getReducersByWordEnding(reducers, ending) {\n  return reducers.reduce(function (previous, current) {\n    var keys = Object.keys(current).filter(function (name) {\n      return name.endsWith(ending);\n    });\n    var reducer = pick(current, keys);\n\n    //TODO: clean this up it's a bit hacky\n    for (var key in current) {\n      if (!key.endsWith(ending)) {\n        continue;\n      }\n      var keyWithoutEnding = key.replace('_' + ending, \"\");\n      //make a new method that pipes output of previous into state of current\n      //this is to allow chaining these\n      var hasPrevious = previous.hasOwnProperty(keyWithoutEnding) && typeof previous[keyWithoutEnding] === 'function';\n      var previousReducer = hasPrevious ? previous[keyWithoutEnding] : undefined;\n      var currentReducer = reducer[key];\n      reducer[keyWithoutEnding] = wrapReducer(currentReducer, previousReducer);\n    }\n\n    //override anything in previous (since this now calls previous to make sure we have helpers from both);\n    return extend(previous, reducer);\n  }, {});\n}\n\n/** Wraps all methods in another method by name and word ending\n  * @param {array<Object>} componentObjectArray - An array of component objects\n  * @param {string} ending - the word ending to determine what is a enhancer method\n  * @param {string} keyReplaceString - the word ending to apply when replacing the 'ending' parameter. Defaults to ''\n*/\nfunction wrapMethodsByWordEnding(componentArray, wordEnding) {\n  var keyReplaceString = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  return componentArray.reduce(function (previous, current) {\n    var newObject = {};\n    for (var key in current) {\n      var keyWithoutEnhancer = key.replace(wordEnding, keyReplaceString);\n      if (key.endsWith(wordEnding) && (previous.hasOwnProperty(keyWithoutEnhancer) || current.hasOwnProperty(keyWithoutEnhancer))) {\n        // Determine if we are working with an HoC that wraps another HoC\n        newObject[keyWithoutEnhancer] = keyWithoutEnhancer.endsWith('Container') || keyWithoutEnhancer.endsWith('Enhancer') ?\n        // If we are enhancing a container or enhancer flow this stuff since it's likely an HoC\n        (0, _flowRight3.default)(current[key], current[keyWithoutEnhancer] || previous[keyWithoutEnhancer]) :\n        // Wrap the current component in the Enhancer or container\n        current[key](current[keyWithoutEnhancer] || previous[keyWithoutEnhancer]);\n      }\n    }\n    return (0, _pickBy3.default)(Object.assign(previous, current, newObject), function (v, k) {\n      return !k.endsWith(wordEnding);\n    });\n  }, {});\n}\n\n/** Gets a new components object with component per component name\n * @param {array<Object>} componentObjectArray - An array of component objects\n*/\nfunction combineAndEnhanceComponents(componentArray) {\n  return wrapMethodsByWordEnding(componentArray, 'Enhancer');\n}\nfunction combineAndEnhanceContainers(componentArray) {\n  return wrapMethodsByWordEnding(componentArray, 'ContainerEnhancer', 'Container');\n}\n\n/** Gets a new component object with containers wrapping standard components\n  (this is the same as enhance but just applying different naming conventions)\n * @param {array<Object>} componentObjectArray - An array of component objects\n*/\nfunction combineAndWrapWithContainerComponents(componentArray) {\n  return wrapMethodsByWordEnding(componentArray, 'Container');\n}\n\n/** Wraps components in their containers and enhancers\n * @param {array<Object>} componentObjectArray - An array of component objects\n*/\nfunction buildGriddleComponents(componentArray) {\n  //enhance the containers\n  var withEnhancedContainers = combineAndEnhanceContainers(componentArray);\n\n  //enhance the components\n  var withEnhancedComponents = combineAndEnhanceComponents([withEnhancedContainers]);\n\n  //wrap the components with the container\n  var withWrappedComponents = combineAndWrapWithContainerComponents([withEnhancedComponents]);\n  return withWrappedComponents;\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","_flowRight2","require","_flowRight3","_interopRequireDefault","_flow2","_flow3","_pickBy2","_pickBy3","_flattenDeep2","_flattenDeep3","_uniq2","_uniq3","_pick2","_pick3","_extend2","_extend3","extendArray","combineHandlers","getPropertiesByEnding","getObjectWherePropertyEndsWith","composeReducer","composeReducers","getKeysForObjects","isKeyGriddleHook","removeHooksFromObject","removeKeyNamePartFromObject","getBeforeHooksFromObject","getBeforeReduceHooksFromObject","getAfterHooksFromObject","getAfterReduceHooksFromObject","composeReducerObjects","callReducerWithBeforeAfterPipe","buildGriddleReducer","getReducersByWordEnding","wrapMethodsByWordEnding","combineAndEnhanceComponents","combineAndEnhanceContainers","combineAndWrapWithContainerComponents","buildGriddleComponents","obj","__esModule","default","objects","unshift","combinedObject","apply","shift","functionArray","_len","arguments","length","args","Array","_key","forEach","func","undefined","String","prototype","endsWith","searchString","position","subjectString","toString","isFinite","Math","floor","lastIndex","indexOf","ending","object","keys","filter","name","nextReducer","previousReducer","state","action","reducers","reverse","reduce","previous","next","map","o","key","reducerObject","keyString","current","replace","reducerObjects","buildGriddleReducerObject","reducerMethodsWithoutHooks","beforeHooks","afterHooks","beforeReduceAll","afterReduceAll","reducer","push","composedBeforeHooks","composedAfterHooks","composedBeforeReduceAll","composedAfterReduceAll","combinedReducer","composed","noop","passThroughState","before","hasOwnProperty","BEFORE_REDUCE","after","AFTER_REDUCE","call","type","GRIDDLE_INITIALIZED","partialCall","partialAction","partialState","method","assign","pick","keyWithoutEnding","hasPrevious","currentReducer","wrapReducer","extend","componentArray","wordEnding","keyReplaceString","newObject","keyWithoutEnhancer","v","k","withEnhancedContainers","withEnhancedComponents","withWrappedComponents"],"sources":["/Users/eugo/commentsold/lumen/public/front/node_modules/griddle-react/dist/module/utils/compositionUtils.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _flowRight2 = require('lodash/flowRight');\n\nvar _flowRight3 = _interopRequireDefault(_flowRight2);\n\nvar _flow2 = require('lodash/flow');\n\nvar _flow3 = _interopRequireDefault(_flow2);\n\nvar _pickBy2 = require('lodash/pickBy');\n\nvar _pickBy3 = _interopRequireDefault(_pickBy2);\n\nvar _flattenDeep2 = require('lodash/flattenDeep');\n\nvar _flattenDeep3 = _interopRequireDefault(_flattenDeep2);\n\nvar _uniq2 = require('lodash/uniq');\n\nvar _uniq3 = _interopRequireDefault(_uniq2);\n\nvar _pick2 = require('lodash/pick');\n\nvar _pick3 = _interopRequireDefault(_pick2);\n\nvar _extend2 = require('lodash/extend');\n\nvar _extend3 = _interopRequireDefault(_extend2);\n\nexports.extendArray = extendArray;\nexports.combineHandlers = combineHandlers;\nexports.getPropertiesByEnding = getPropertiesByEnding;\nexports.getObjectWherePropertyEndsWith = getObjectWherePropertyEndsWith;\nexports.composeReducer = composeReducer;\nexports.composeReducers = composeReducers;\nexports.getKeysForObjects = getKeysForObjects;\nexports.isKeyGriddleHook = isKeyGriddleHook;\nexports.removeHooksFromObject = removeHooksFromObject;\nexports.removeKeyNamePartFromObject = removeKeyNamePartFromObject;\nexports.getBeforeHooksFromObject = getBeforeHooksFromObject;\nexports.getBeforeReduceHooksFromObject = getBeforeReduceHooksFromObject;\nexports.getAfterHooksFromObject = getAfterHooksFromObject;\nexports.getAfterReduceHooksFromObject = getAfterReduceHooksFromObject;\nexports.composeReducerObjects = composeReducerObjects;\nexports.callReducerWithBeforeAfterPipe = callReducerWithBeforeAfterPipe;\nexports.buildGriddleReducer = buildGriddleReducer;\nexports.getReducersByWordEnding = getReducersByWordEnding;\nexports.wrapMethodsByWordEnding = wrapMethodsByWordEnding;\nexports.combineAndEnhanceComponents = combineAndEnhanceComponents;\nexports.combineAndEnhanceContainers = combineAndEnhanceContainers;\nexports.combineAndWrapWithContainerComponents = combineAndWrapWithContainerComponents;\nexports.buildGriddleComponents = buildGriddleComponents;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** Extends an array rather than known list of objects */\n//TODO: Look at using object.assign\nfunction extendArray(objects) {\n  //return an empty object if we don't have anything to combine\n  if (!objects) {\n    return {};\n  }\n\n  //add empty object to the beginning for Object.extend\n  objects.unshift({});\n\n  //Buid the combined object\n  var combinedObject = _extend3.default.apply(this, objects);\n\n  //TODO: why are we doing this? is it necessary\n  objects.shift();\n\n  //return the combined object\n  return combinedObject;\n}\n\nfunction combineHandlers(functionArray) {\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    functionArray.forEach(function (func) {\n      return !!func && func.apply(undefined, args);\n    });\n  };\n}\n\n//from MDN\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function (searchString, position) {\n    var subjectString = this.toString();\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n      position = subjectString.length;\n    }\n    position -= searchString.length;\n    var lastIndex = subjectString.indexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n  };\n}\n\n/**\n * Finds properties on an object that end in specified word\n * @param {string} ending - The string that properties should be found ending with\n * @param {Object} object - The object to find keys on\n */\nfunction getPropertiesByEnding(ending, object) {\n  return Object.keys(object).filter(function (name) {\n    return name.endsWith(ending);\n  });\n}\n\n/** Creates a new object containing only properties that end with specified ending\n * @param {string} ending - The string that properties should be found ending with\n * @param {Object} object - The object to find keys on\n */\nfunction getObjectWherePropertyEndsWith(ending, object) {\n  var keys = getPropertiesByEnding(ending, object);\n\n  return (0, _pick3.default)(object, keys);\n}\n\n/** Creates a new reducer by taking the output of the first reducer as state to the second\n * @param {Object} currentReducer - reducerMethod (state, action) to that we want to run as the state parameter for second reducer\n * @param {Object} previousReducer - reducerMethod (state, action) to run second\n */\nfunction composeReducer(nextReducer, previousReducer) {\n  // compose the reducers when both parameters are functions\n  if (typeof nextReducer === 'function' && typeof previousReducer === 'function') {\n    return function (state, action) {\n      return previousReducer(nextReducer(state, action), action);\n    };\n  }\n\n  // return the nextReducer\n  return nextReducer;\n}\n\n/** Creates a composed reducer method from an array of reducer methods\n * @param {Object <array>} reducers - An array of reducer methods to compose\n */\nfunction composeReducers(reducers) {\n  // flip the array (since we want to apply from left-to-right and compose each reducer\n  return reducers.reverse().reduce(function (previous, next) {\n    return composeReducer(next, previous);\n  }, {});\n}\n\n/** Obtains all the unique keys between an array of objects\n * @param {Object <array>} objects - An array of objects\n */\nfunction getKeysForObjects(objects) {\n  return (0, _uniq3.default)((0, _flattenDeep3.default)(objects.map(function (o) {\n    return Object.keys(o);\n  })));\n}\n\n/** Determines if a given key is a Griddle hook reducer\n * @param {string} key - the key to check if it refers to a Griddle hook\n */\nfunction isKeyGriddleHook(key) {\n  return key === 'BEFORE_REDUCE' || key === 'AFTER_REDUCE' || key.endsWith('AFTER') || key.endsWith('BEFORE');\n}\n\n/** Removes Griddle hooks from a reducer object\n * @param {Object} reducerObject - The reducer object to remove hooks from\n */\nfunction removeHooksFromObject(reducerObject) {\n  return (0, _pickBy3.default)(reducerObject, function (value, key) {\n    if (isKeyGriddleHook(key)) {\n      return false;\n    }\n\n    return true;\n  });\n}\n\n/** Removes a given string from any key on the object that contains that string\n * @param {Object} reducer object - the reducer object to update keys on\n * @param {string} keyString - the string to remove from all keys\n*/\nfunction removeKeyNamePartFromObject(reducerObject, keyString) {\n  return Object.keys(reducerObject).reduce(function (previous, current) {\n    previous[current.replace(keyString, '')] = reducerObject[current];\n    return previous;\n  }, {});\n}\n\n/** Gets an object that consists of only the _BEFORE hooks. _BEFORE will be removed from the key.\n * @param {Object} reducerObject - the reducer to get the _BEFORE hooks from\n */\nfunction getBeforeHooksFromObject(reducerObject) {\n  return removeKeyNamePartFromObject((0, _pickBy3.default)(reducerObject, function (value, key) {\n    return key.endsWith('BEFORE');\n  }), '_BEFORE');\n}\n\n/** Gets an object that consists of only the BEFORE_REDUCE hooks.\n * @param {Object} reducerObject - the reducer to get the BEFORE_REDUCE hooks from\n */\nfunction getBeforeReduceHooksFromObject(reducerObject) {\n  return (0, _pickBy3.default)(reducerObject, function (value, key) {\n    return key === 'BEFORE_REDUCE';\n  });\n}\n\n/** Gets an object that conists of only the _AFTER hooks. _AFTER will be removed from the key\n * @param {Object} reducerObject - the reducer to get the _AFTER hooks from\n */\nfunction getAfterHooksFromObject(reducerObject) {\n  return removeKeyNamePartFromObject((0, _pickBy3.default)(reducerObject, function (value, key) {\n    return key.endsWith('AFTER');\n  }), '_AFTER');\n}\n\n/** Gets an object that conists of only the AFTER_REDUCE hooks.\n * @param {Object} reducerObject - the reducer to get the AFTER_REDUCE hooks from\n */\nfunction getAfterReduceHooksFromObject(reducerObject) {\n  return (0, _pickBy3.default)(reducerObject, function (value, key) {\n    return key === 'AFTER_REDUCE';\n  });\n}\n\n/** Combines the given reducer objects left to right\n * @param {Object <array>} reducerObjects - An array containing objects consisting of reducer methods as properties\n */\nfunction composeReducerObjects(reducerObjects) {\n  if (reducerObjects.length < 1) return null;\n\n  return reducerObjects.reverse().reduce(function (previous, next) {\n    // if we don't have any reducers in previous object continue with next\n    if (previous === null) {\n      return next;\n    }\n\n    //mutate the previous object by composing the reducer methods\n    for (var key in next) {\n      previous[key] = composeReducer(next[key], previous[key]);\n    }\n\n    return previous;\n  }, null);\n}\n\n/** Builds a new reducer that composes hooks and extends standard reducers between reducerObjects\n * @param {Object <array>} reducers - An array of reducerObjects\n * Note: this used to be exported, but the same properties are available from buildGriddleReducer.\n * TODO: This method should be broken down a bit -- it's doing too much currently\n */\nfunction buildGriddleReducerObject(reducerObjects) {\n  var reducerMethodsWithoutHooks = [];\n  var beforeHooks = [];\n  var afterHooks = [];\n\n  var beforeReduceAll = [];\n  var afterReduceAll = [];\n\n  if (reducerObjects.length > 0) {\n    // remove the hooks and extend the object\n    for (var key in reducerObjects) {\n      var reducer = reducerObjects[key];\n      reducerMethodsWithoutHooks.push(removeHooksFromObject(reducer));\n      beforeHooks.push(getBeforeHooksFromObject(reducer));\n      afterHooks.push(getAfterHooksFromObject(reducer));\n      beforeReduceAll.push(getBeforeReduceHooksFromObject(reducer));\n      afterReduceAll.push(getAfterReduceHooksFromObject(reducer));\n    }\n  }\n\n  var composedBeforeHooks = composeReducerObjects(beforeHooks);\n  var composedAfterHooks = composeReducerObjects(afterHooks);\n\n  var composedBeforeReduceAll = composeReducerObjects(beforeReduceAll);\n  var composedAfterReduceAll = composeReducerObjects(afterReduceAll);\n\n  // combine the reducers without hooks\n  var combinedReducer = extendArray(reducerMethodsWithoutHooks);\n\n  var composed = composeReducerObjects([composedBeforeReduceAll, composedBeforeHooks, combinedReducer, composedAfterHooks, composedAfterReduceAll]);\n\n  return composed;\n}\n\n/** Builds a composed method containing the before / after reduce calls\n * @param {Object} reduceObject - The reducer that contains the composed reducer methods\n * @param {Object} state - The store state\n * @param {object} action - The action payload information\n*/\nfunction callReducerWithBeforeAfterPipe(reducerObject, state, action) {\n  var noop = function noop(passThroughState) {\n    return passThroughState;\n  };\n  var before = reducerObject.hasOwnProperty('BEFORE_REDUCE') ? reducerObject.BEFORE_REDUCE : noop;\n  var after = reducerObject.hasOwnProperty('AFTER_REDUCE') ? reducerObject.AFTER_REDUCE : noop;\n\n  var call = action.type && reducerObject[action.type] && reducerObject[action.type] || reducerObject.GRIDDLE_INITIALIZED || noop;\n\n  var partialCall = function (partialAction) {\n    return function (partialState) {\n      return call(partialState, partialAction);\n    };\n  }(action);\n\n  var method = (0, _flow3.default)([before, partialCall, after]);\n\n  return method(state);\n}\n\n/** Builds a griddleReducer function from a series of reducerObjects\n * @param {Object <array>} reducers - An array of reducerObjects\n*/\nfunction buildGriddleReducer(reducerObjects) {\n  var reducerObject = buildGriddleReducerObject(reducerObjects);\n  var reducer = function reducer(state, action) {\n    return callReducerWithBeforeAfterPipe(reducerObject, state, action);\n  };\n  Object.assign(reducer, reducerObject);\n  return reducer;\n}\n\n/** Gets all reducers by a specific wordEnding\n * @param {array <Object>} reducers - An array of reducer objects\n * @param {string} ending - the wordEnding for the reducer name\n */\nfunction getReducersByWordEnding(reducers, ending) {\n  return reducers.reduce(function (previous, current) {\n    var keys = Object.keys(current).filter(function (name) {\n      return name.endsWith(ending);\n    });\n\n    var reducer = pick(current, keys);\n\n    //TODO: clean this up it's a bit hacky\n    for (var key in current) {\n      if (!key.endsWith(ending)) {\n        continue;\n      }\n\n      var keyWithoutEnding = key.replace('_' + ending, \"\");\n      //make a new method that pipes output of previous into state of current\n      //this is to allow chaining these\n      var hasPrevious = previous.hasOwnProperty(keyWithoutEnding) && typeof previous[keyWithoutEnding] === 'function';\n      var previousReducer = hasPrevious ? previous[keyWithoutEnding] : undefined;\n\n      var currentReducer = reducer[key];\n\n      reducer[keyWithoutEnding] = wrapReducer(currentReducer, previousReducer);\n    }\n\n    //override anything in previous (since this now calls previous to make sure we have helpers from both);\n    return extend(previous, reducer);\n  }, {});\n}\n\n/** Wraps all methods in another method by name and word ending\n  * @param {array<Object>} componentObjectArray - An array of component objects\n  * @param {string} ending - the word ending to determine what is a enhancer method\n  * @param {string} keyReplaceString - the word ending to apply when replacing the 'ending' parameter. Defaults to ''\n*/\nfunction wrapMethodsByWordEnding(componentArray, wordEnding) {\n  var keyReplaceString = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n  return componentArray.reduce(function (previous, current) {\n    var newObject = {};\n\n    for (var key in current) {\n      var keyWithoutEnhancer = key.replace(wordEnding, keyReplaceString);\n\n      if (key.endsWith(wordEnding) && (previous.hasOwnProperty(keyWithoutEnhancer) || current.hasOwnProperty(keyWithoutEnhancer))) {\n        // Determine if we are working with an HoC that wraps another HoC\n        newObject[keyWithoutEnhancer] = keyWithoutEnhancer.endsWith('Container') || keyWithoutEnhancer.endsWith('Enhancer') ?\n        // If we are enhancing a container or enhancer flow this stuff since it's likely an HoC\n        (0, _flowRight3.default)(current[key], current[keyWithoutEnhancer] || previous[keyWithoutEnhancer]) :\n        // Wrap the current component in the Enhancer or container\n        current[key](current[keyWithoutEnhancer] || previous[keyWithoutEnhancer]);\n      }\n    }\n\n    return (0, _pickBy3.default)(Object.assign(previous, current, newObject), function (v, k) {\n      return !k.endsWith(wordEnding);\n    });\n  }, {});\n}\n\n/** Gets a new components object with component per component name\n * @param {array<Object>} componentObjectArray - An array of component objects\n*/\nfunction combineAndEnhanceComponents(componentArray) {\n  return wrapMethodsByWordEnding(componentArray, 'Enhancer');\n}\n\nfunction combineAndEnhanceContainers(componentArray) {\n  return wrapMethodsByWordEnding(componentArray, 'ContainerEnhancer', 'Container');\n}\n\n/** Gets a new component object with containers wrapping standard components\n  (this is the same as enhance but just applying different naming conventions)\n * @param {array<Object>} componentObjectArray - An array of component objects\n*/\nfunction combineAndWrapWithContainerComponents(componentArray) {\n  return wrapMethodsByWordEnding(componentArray, 'Container');\n}\n\n/** Wraps components in their containers and enhancers\n * @param {array<Object>} componentObjectArray - An array of component objects\n*/\nfunction buildGriddleComponents(componentArray) {\n  //enhance the containers\n  var withEnhancedContainers = combineAndEnhanceContainers(componentArray);\n\n  //enhance the components\n  var withEnhancedComponents = combineAndEnhanceComponents([withEnhancedContainers]);\n\n  //wrap the components with the container\n  var withWrappedComponents = combineAndWrapWithContainerComponents([withEnhancedComponents]);\n\n  return withWrappedComponents;\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}