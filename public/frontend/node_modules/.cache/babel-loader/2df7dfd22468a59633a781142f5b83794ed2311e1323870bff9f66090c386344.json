{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nvar StoreListener = exports.StoreListener = function StoreListener(store) {\n  var _this = this;\n  _classCallCheck(this, StoreListener);\n  this.removeListener = function (name) {\n    if (_this.unsubscribers.hasOwnProperty(name)) {\n      _this.unsubscribers[name]();\n      delete _this.unsubscribers[name];\n      return true;\n    } else {\n      return false;\n    }\n  };\n  this.addListener = function (listener, name, otherArgs) {\n    // attempt to unsubscribe an existing listener if the new \n    // listener name matches\n    // if no name is provided, do nothing\n    name && _this.removeListener(name);\n    var unsubscribe = function () {\n      var oldState = void 0;\n      return _this.store.subscribe(function () {\n        var newState = _this.store.getState();\n        listener(oldState, newState, _extends({}, otherArgs));\n        oldState = newState;\n      });\n    }();\n    // if name was provided, add the unsubscribe\n    // otherwise this is an \"anonymous\" listener\n    name && (_this.unsubscribers[name] = unsubscribe);\n    return unsubscribe;\n  };\n  this.hasListener = function (name) {\n    return _this.unsubscribers.hasOwnProperty(name);\n  };\n  this.store = store;\n  this.unsubscribers = {};\n}\n\n// Adds a listener to the store.\n// Will attempt to remove an existing listener if the name\n// matches that of an existing listener.\n// If no name is provided this is an anonymous lister, it\n// is not registered in the list of unsubscribe functions,\n// returns the unsubscribe function so it can still be handled\n// manually if desired.\n;","map":{"version":3,"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_classCallCheck","instance","Constructor","TypeError","StoreListener","store","_this","removeListener","name","unsubscribers","addListener","listener","otherArgs","unsubscribe","oldState","subscribe","newState","getState","hasListener"],"sources":["/Users/eugo/commentsold/lumen/public/front/node_modules/griddle-react/dist/module/utils/listenerUtils.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StoreListener = exports.StoreListener = function StoreListener(store) {\n    var _this = this;\n\n    _classCallCheck(this, StoreListener);\n\n    this.removeListener = function (name) {\n        if (_this.unsubscribers.hasOwnProperty(name)) {\n            _this.unsubscribers[name]();\n            delete _this.unsubscribers[name];\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    this.addListener = function (listener, name, otherArgs) {\n        // attempt to unsubscribe an existing listener if the new \n        // listener name matches\n        // if no name is provided, do nothing\n        name && _this.removeListener(name);\n        var unsubscribe = function () {\n            var oldState = void 0;\n            return _this.store.subscribe(function () {\n                var newState = _this.store.getState();\n                listener(oldState, newState, _extends({}, otherArgs));\n                oldState = newState;\n            });\n        }();\n        // if name was provided, add the unsubscribe\n        // otherwise this is an \"anonymous\" listener\n        name && (_this.unsubscribers[name] = unsubscribe);\n        return unsubscribe;\n    };\n\n    this.hasListener = function (name) {\n        return _this.unsubscribers.hasOwnProperty(name);\n    };\n\n    this.store = store;\n    this.unsubscribers = {};\n}\n\n// Adds a listener to the store.\n// Will attempt to remove an existing listener if the name\n// matches that of an existing listener.\n// If no name is provided this is an anonymous lister, it\n// is not registered in the list of unsubscribe functions,\n// returns the unsubscribe function so it can still be handled\n// manually if desired.\n;"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EACzCC,KAAK,EAAE;AACX,CAAC,CAAC;AAEF,IAAIC,QAAQ,GAAGJ,MAAM,CAACK,MAAM,IAAI,UAAUC,MAAM,EAAE;EAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;IAAE,IAAIG,MAAM,GAAGF,SAAS,CAACD,CAAC,CAAC;IAAE,KAAK,IAAII,GAAG,IAAID,MAAM,EAAE;MAAE,IAAIV,MAAM,CAACY,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,MAAM,EAAEC,GAAG,CAAC,EAAE;QAAEL,MAAM,CAACK,GAAG,CAAC,GAAGD,MAAM,CAACC,GAAG,CAAC;MAAE;IAAE;EAAE;EAAE,OAAOL,MAAM;AAAE,CAAC;AAEhQ,SAASS,eAAeA,CAACC,QAAQ,EAAEC,WAAW,EAAE;EAAE,IAAI,EAAED,QAAQ,YAAYC,WAAW,CAAC,EAAE;IAAE,MAAM,IAAIC,SAAS,CAAC,mCAAmC,CAAC;EAAE;AAAE;AAExJ,IAAIC,aAAa,GAAGjB,OAAO,CAACiB,aAAa,GAAG,SAASA,aAAaA,CAACC,KAAK,EAAE;EACtE,IAAIC,KAAK,GAAG,IAAI;EAEhBN,eAAe,CAAC,IAAI,EAAEI,aAAa,CAAC;EAEpC,IAAI,CAACG,cAAc,GAAG,UAAUC,IAAI,EAAE;IAClC,IAAIF,KAAK,CAACG,aAAa,CAACX,cAAc,CAACU,IAAI,CAAC,EAAE;MAC1CF,KAAK,CAACG,aAAa,CAACD,IAAI,CAAC,CAAC,CAAC;MAC3B,OAAOF,KAAK,CAACG,aAAa,CAACD,IAAI,CAAC;MAChC,OAAO,IAAI;IACf,CAAC,MAAM;MACH,OAAO,KAAK;IAChB;EACJ,CAAC;EAED,IAAI,CAACE,WAAW,GAAG,UAAUC,QAAQ,EAAEH,IAAI,EAAEI,SAAS,EAAE;IACpD;IACA;IACA;IACAJ,IAAI,IAAIF,KAAK,CAACC,cAAc,CAACC,IAAI,CAAC;IAClC,IAAIK,WAAW,GAAG,YAAY;MAC1B,IAAIC,QAAQ,GAAG,KAAK,CAAC;MACrB,OAAOR,KAAK,CAACD,KAAK,CAACU,SAAS,CAAC,YAAY;QACrC,IAAIC,QAAQ,GAAGV,KAAK,CAACD,KAAK,CAACY,QAAQ,CAAC,CAAC;QACrCN,QAAQ,CAACG,QAAQ,EAAEE,QAAQ,EAAE3B,QAAQ,CAAC,CAAC,CAAC,EAAEuB,SAAS,CAAC,CAAC;QACrDE,QAAQ,GAAGE,QAAQ;MACvB,CAAC,CAAC;IACN,CAAC,CAAC,CAAC;IACH;IACA;IACAR,IAAI,KAAKF,KAAK,CAACG,aAAa,CAACD,IAAI,CAAC,GAAGK,WAAW,CAAC;IACjD,OAAOA,WAAW;EACtB,CAAC;EAED,IAAI,CAACK,WAAW,GAAG,UAAUV,IAAI,EAAE;IAC/B,OAAOF,KAAK,CAACG,aAAa,CAACX,cAAc,CAACU,IAAI,CAAC;EACnD,CAAC;EAED,IAAI,CAACH,KAAK,GAAGA,KAAK;EAClB,IAAI,CAACI,aAAa,GAAG,CAAC,CAAC;AAC3B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}